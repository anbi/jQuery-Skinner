!function(l){l.extend(l.expr[":"],{scrollable:function(o){var r,s;return"scroll"==l(o).css("overflow")||"scroll"==l(o).css("overflowX")||"scroll"==l(o).css("overflowY")?!0:(r=o.clientHeight<o.scrollHeight&&(-1!=l.inArray(l(o).css("overflowY"),["scroll","auto"])||-1!=l.inArray(l(o).css("overflow"),["scroll","auto"])))?!0:s=o.clientWidth<o.scrollWidth&&(-1!=l.inArray(l(o).css("overflowX"),["scroll","auto"])||-1!=l.inArray(l(o).css("overflow"),["scroll","auto"]))}})}(jQuery);
!function(e){e.fn.skinner=function(t){var l={type:"block",minWidth:"",width:"auto",textwrap:!1,maxitem:"6",itemMinWidth:"",mode:"select",placeHolder:"please select",valueNullable:!1,disabled:!1,dropdownList:{hideMode:"auto"}};void 0!==t&&e.extend(l,t);var i=this;l.disabled=e(i).prop("disabled");var n={$:{select:null,container:null,controller:null,acceptor:null}};return n=e.extend(n,{_li_click:function(t,s){var d=this,c=n.$.acceptor;c.hide(),e(i).triggerHandler("whenClickItem",[t,d,s]);var o=n.$.controller.children(".select-skinned-cont").html(),r=n.$.select,a=r.find("option"),h=a.eq(t),p=a.eq(0);o="&nbsp;"===o?"":o,"multiple"!==l.multiple&&(o!==h.text()?(a.removeAttr("selected"),h.attr("selected","selected"),n.$.controller.html('<div class="select-skinned-cont">'+h.text()+"</div>"),d.addClass("select-skinned-li-selected"),c.nextAll("select:first").change()):!0===l.valueNullable?(h.removeAttr("selected"),p.attr("selected","selected"),n.$.controller.html('<div class="select-skinned-cont">'+p.html()||(l.placeHolder||"&nbsp;")+"</div>"),d.removeClass("select-skinned-li-selected"),c.nextAll("select:first").change()):c.nextAll("select:first").trigger("unchange"))},_init_li:function(t){var s=e(t),d=n.$.acceptor;d.html(""),s.children("option").each(function(t,c){var o=e(c),r=""===o.html()?"&nbsp;":o.html();if(0===t){if(!0===l.valueNullable)return;0===s.children("option[selected]").size()&&o.attr("selected","selected")}var a=e("<li>"+r+"</li>").click(function(){return e(i).triggerHandler("beforeClickItem",[t,a,s])}).click(function(l){!1===l.result||(n._li_click.call(a,t,s),e(i).triggerHandler("afterClickItem",[t,a,s]))});void 0!==o.attr("selected")&&a.addClass("select-skinned-li-selected"),d.append(a)})},_apply_max_item:function(){var t=e(this),i=t.children("li"),n=l.maxitem;if(void 0!==n&&!1!==n){for(var s=0,d=n;d-->0;)s+=i.eq(d).outerHeight();n=l.maxitem,t.css({"overflow-y":"scroll",height:s+"px"})}}}),n=e.extend(n,{selectskinned:function(t){var i=e(t);n.$.select=i,i.wrap('<div class="select-skinned" />'),n.$.container=i.parent();var s=e('<ul style="display:none;"></ul>');n.$.acceptor=s,i.parent().on("mouseleave",function(){("auto"===l.dropdownList.hideMode||"leave"===l.dropdownList.hideMode)&&s.hide()}),!0===l.valueNullable?0===i.children("option[selected]").size()&&i.children("option").eq(0).attr("selected","selected"):0===i.children("option[selected]").size()&&i.children("option").eq(0).attr("selected","selected");var d=i.children("option[selected]"),c=d.size()<=0?l.placeHolder:""===d.text()?"&nbsp;":d.text(),o=e('<div class="select-skinned-text"><div class="select-skinned-cont">'+c+"</div></div>");n.$.controller=o,o.click(function(){var t=e(this),i=t.nextAll("ul:first"),s=n.$.container.offset(),d=n.$.container.parent(":scrollable"),c=0,o=0;0===d.size()?d=e(window):(c=d.offset().top,o=d.offset().left);var r=d.scrollTop();i.css(i.outerHeight()+15<s.top-r&&d.height()+c<=s.top+i.outerHeight()+15-r?{top:"auto",bottom:"0"}:{top:t.prev(".select-skinned-text").children(".select-skinned-cont").height(),bottom:"auto"}),i.css(d.width()+o<=s.left+i.outerWidth()?{left:"auto",right:"0"}:{left:"0",right:"auto"}),i.is(":visible")?i.hide():(l.disabled=e(this).siblings("select:first").prop("disabled"),!0===l.disabled?i.hide():i.show()),n._apply_max_item.call(i.get(0))}),i.before(o),i.before(s),i.change(function(){n._init_li(t),n.addStyle()}),i.hide(),n._init_li(t),n.addStyle()},resetSelect:function(t){0!==e(t).prev("ul").size()&&e(t).prev("ul").prev(".select-skinned-text").html('<div class="select-skinned-cont">'+e(t).find("option").eq(0).text()+"</div>")},addStyle:function(){var t=e(i),s=n.$.container,d=s.children("ul").children("li");if("auto"===l.width&&(l.width=t.width()),s.css("min-width",l.minWidth||l.width).width(l.width).children("ul").css("min-width",l.itemMinWidth||l.width),!0===l.textwrap&&d.css({"white-space":"normal"}),d.hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}),n.$.controller.hover(function(){l.disabled=e(this).siblings("select:first").prop("disabled")},function(){}),"puretext"===l.mode.toLowerCase()){var c="select-skinned-pure-text";n.$.controller.addClass(c).hover(function(){l.disabled=e(this).siblings("select:first").prop("disabled"),!1===l.disabled&&e(this).removeClass(c)},function(){!1===l.disabled&&e(this).addClass(c)})}"block"!==l.type&&s.css({"float":l.type})}}),e(i).parent().is(".select-skinned")||n.selectskinned(i),this}}(jQuery);
